### 8.1.5 벡터에 저장된 값을 순회하기

-   벡터에 저장된 값에 하나씩 접근해 보려면 인덱스를 이용해 한 번에 하나의 값에 접근하는 것보다는 벡터를 순회하는 편이 낫다.
    <8.8>

```rust
let v = ved![1,2,3,4,5];
for i in &v {
    println!("{}", i);
}
```

<8.8> 은 for 루프를 이용해 벡터에 저장된 i32 타입의 값에 대한 불면 참조를 얻어와 이를 출력하는 코드를 보여준다.

```rust
(8.9)
let mut v = vec![1,2,3,4,5];
for i in &mut v {
    *i += 50;
}
```

가변 참조가 가리키는 값을 변경하려면 += 연산자를 사용하기 전에 역참조 연산자를 이용해
변수 i에 저장된 값을 가져와야 한다.

### 8.16 열거자를 이용해 여러 타입 저장하기

-   벡터는 오직 같은 타입의 값만을 저장 가능
-   열거자의 열것값은 같은 열거자 타입으로 평가되므로 벡터에 다른 타입의 값을 저장하려면 열거자를 정의해 사용하면 된다.

```rust
enum SpreadsheetCell {
    Int(i32),
    Float(f64),
    Text(String),
}

let row = vec![
    SpreadsheetCell::Int(3),
    SpreadsheetCell::Text(String::from("블루")),
    SpreadsheedCell::Float(10,12),
]

```

-   러스트는 컴파일 시점에 벡터에 어떤 타입의 값이 저장될지 알아야 하므로 당연히 각각의 값을 저장하기 위해 어느 정도의 힙 메모리가 필요한지도 정확히 판단한다.

## 8.2 String 타입에 UTF-8 형식의 텍스트 저장하기

-   문자열을 컬렉션의 일종으로 생각하라

### 8.2.1 문자열이란 무엇인가?

-   러스트는 언어의 명세 안에서 오직 한 가지 문자열 타입, 즉 문자열 슬라이스인 `str` 타입만을 지원한다.
-   어딘가에 UTF-8 형식으로 인코딩되어 저장된 문자열에 대한 참조
-   문자열 리터럴은 프로그램을 컴파일한 바이너리 결과 파일에 포함되므로 문자열 슬라이스다.

-   반면 `String` 타입은 언어의 명세에 정의된 것이 아니라 러스트의 표준 라이브러리가 제공하는 타입이다.

### 8.2.2 새 문자열 생성하기

```rust
let mut s = String::new();
```

이 코드는 새로운 빈 문자열을 생성해 변수 s에 할당한다. 일단 문자열이 생성되면 데이터를 저장할 수 있다. 물론 문자열을 생성할 때 초깃값을 지정할 수도 있다. 그러려면 문자열 리터럴처럼 Display 크레이트를 구현한 모든 타입에 사요할 수 있는 to_stirng 메서드를 활요하면 된다.

```rust
let data = "문자열 초깃값";

let s = data.to_string();

let s = "문자열 초깃값".to_string();
```

위 아래 예제는 동일하게 작동한다.

```rust
let s = String::from("문자열 초깃값");
```

### 8.2.3 문자열 수정하기

문자열 크기는 늘어날 수 있으며 Vec<T> 타입처럼 더 많은 데이터를 밀어넣으면 저장된 내용도 변경할 수 있다. 게다가 + 연산자나 format! 매크로를 이용해 문자열을 손쉽게 연결할 수 있다.

(1) push_str과 push 메서드를 이용해 문자열 덧붙이기
push_str 메서드는 문자열 슬라이스를 String에 덧붙인다.

```rust
let mut = String::from("foo");
s.push_str("bar");
```

> > > foobar

-   push_str 메서드가 문자열 슬라이스를 이용하는 이유는 매개변수의 소유권을 가질 필요가 없기 때문이다.

```rust
let mut s1 = String::from("foo");
let s2 = "bar";
s1.push_str(s2);
println!("s2: {}", s2);

>>> s2: bar
```

push 메서드가 하나의 문자를 매개변수로 전달받아 String에 추가한다면?

```rust
let s = String::from("lo");
s.push('l');
>> lol
```

(2) + 연산자나 format! 매크로를 이용한 문자열 연결

```rust

let s1 = String::from("Hello", );
let s2 = String::from("world!");
let s3 = s1 + &s2;
// 변수 s1은 메모리가 해제되어 더 이상 사용할 수 없다.
```

-   연산자를 사용하면 내부적으로 호출되는 메서드의 시그니처
    fn add(self, s : &str) -> String {
    이 때문에 변수 s2는 값이 아닌 참조를 전달하였다.

긴 문자열의 경우 format 매크로가 더 적합하다.

```rust
let s = format!("{}-{}-{}", s1, s2 ,s3)
```

-   러스트의 문자열은 인덱스를 지원하지 않는다.

(1) 문자열의 내부

String은 Vec<u8> 타입을 한 번 감싼 타입이다.

## 8.3 HashMap

-   JS의 객체와 유사
-   HashMap<K, V> 타입은 K 타입의 키에 V 타입의 값을 매핑하여 저장한다.
    이 과정에서 키와 값을 어떻게 저장할 것인지를 결정하기 위해 해시 함수를 사용한다.

-   해시 맵은 벡터처럼 인덱스를 이용하는 것이 아니라 어떤 타입이든 관계없이 키를 이용하여 데이터를 조회하고자 할 때 유용하다.
