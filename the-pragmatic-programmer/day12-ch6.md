_2022.03.29_

> # Ch.6 동시성

-   동시성(병행성) : 둘 이상의 코드 조각이 실행될 때 동시에 실행 중인 것처럼 행동하는 것 (소프트웨어 동작 방식)
-   병렬성 : 실제로 동시에 실행되는 것 (하드웨어 방식)

-   애플리케이션이 실제 세상을 다루기 원한다면 동시성은 필수다. 세상은 비동기적이기 때문이다. 사용자와 상호 작용하고, 데이터를 불러오고, 외부 서비스를 호출하는 일을 동시에 해야한다. 만약 이를 순차적으로 하나를 끝낸 다음에 다음 일을 하는 식으로 수행한다면, 시스템은 거북이처럼 느리게 느껴질 것이고 프로그램을 구동하는 하드웨어의 성능도 최대로 활용하지 못할 것이다.

#### 시간적 결합

은 당면한 문제를 해결에 꼭 필요하지 않은 일 처리 순서를 코드가 강제할 때 생긴다.

-   `공유상태` : 둘 이상의 코드 뭉치가 하나의 변경 가능한 데이터를 참조하고 있다면
-   `액터actor 모델` : 프로세스들이 독립적으로 수행되며 서로 데이터를 공유하지 않는다.

**시간이나 순서에 의존하는 시간적 결합을 끊는 방법을 생각하라.**

### Tip56 작업 흐름 분석으로 동시성을 개선하라.

-   `활동 다이어그램`은 동시에 작업할 수 있는 부분들을 보여준다.

### Tip57 공유 상태는 틀린 상태다.

-   제어를 중앙으로 집중시키자.

### Tip58 불규칙한 실패는 동시성 문제인 경우가 많다.

## Topic 35 액터와 프로세스

### Tip 59 공유 상태 없는 동시성을 위하여 액터를 사용하라.

-   액터 모델에서는 동시성을 다루는 코드를 쓸 필요가 없다. 공유된 상태가 없기 때문이다. 명시적으로 처음부터 끝까지 “이걸 한 다음 저걸 하라”는 코드를 쓸 필요도 없다. 액터가 수신하는 메시지에 따라 알아서 실행되기 때문이다.

## 느낀점

-   프로그램이 코드 순서대로만 동작한다고 생각하고 있었는데 동시성 부분을 읽고 나서 여러 코드 조각을 동시다발적으로 처리하는 장점에 대해서 생각해볼 수 있었다. 세상은 비동기적이기 때문에 유저와 상호작용하는 어플리케이션을 만들기 위해서는 동시성이 필수적이라고 생각했다. 속도나 인터랙티브한 측면 뿐만 아니라 `시간적 결합`으로 인한 코드 의존도를 줄이기 때문에 유지 보수면에서도 이점을 가진다.
-   병렬처리가 효율적인 것은 알지만 하드웨어 적인 부분이 뒷받침 되어야 하기 때문에 개발시 리소스 자원 등을 잘 살펴서 로직을 짜야할 것이다.
-   활동 다이어그램과 같은 시각 자료를 이용하여 어떤 부분에 동시성과 병렬성을 확보해야할지 고민하자.
-   공유 상태를 최대한 피하고 제어를 중앙으로 집중시켜 효율성과 보안을 확보하자.
-   액터 모델을 활용하면 코드 내에서 자연스럽고 직관적인 동시성 구현이 가능할 것이다.

## 용어 정리

-   액터 모델 Actor Model : 액터는 비동기적으로 메세지를 처리할 수 있는 computational entity로 다음과 같은 특징이 있습니다: 다른 액터에게 유한한 개수의 메세지를 보낼 수 있습니다. 유한한 개수의 새로운 액터를 만들 수 있습니다.
    -   다른 액터에게 유한한 개수의 메세지를 보낼 수 있습니다.
    -   유한한 개수의 새로운 액터를 만들 수 있습니다.
    -   다른 액터가 받을 메세지에 수반될 행동(behavior)을 지정할 수 있습니다
        https://blog.rajephon.dev/2018/11/25/akka-00/
