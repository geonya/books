_2022.03.26_

> # Ch.5 구부러지거나 부러지거나

-   현대의 빠른 변화 속도를 따라가려면 모든 수단을 동원하여 가능한 한 느슨하고 유연한 코드를 작성하라.

## Topic 28 결합도 줄이기

-   높은 결합도는 변경의 적이다.
-   소프트웨어의 구조는 유연해야 한다.

## Tip 44 결합도가 낮은 코드가 바꾸기 쉽다.

```java
public void applyDiscount(customer, order_id, discount) {
    totals = customer.orders.find(order_id).getTotals();
    totals.grandTotal = totals.grandTotal - discount;
    totals.discount = discount;
}
```

-   기차의 모든 객차가 서로 연결되어 있듯이 메서드나 속성들이 모두 연결되어 있다. 이런 코드를 '열차 사고' 라고 부른다.

## Tip 45 묻지 말고 말하라 Tell, Don't Ask, TDA

-> Refactoring

```java
public void applyDiscount(customer, order_id, discount) {
    customer.findOrder(order_id).applyDiscount(discount);
}
```

## Tip 46 메서드 호출을 엮지 말라.

-   무언가에 접근할 때 "."을 딱 하나만 쓰려고 노력해 보자.
-   애플리케이션에 있는 모든 것, 외부 라이브러리까지 모두 바뀌리라 생각해야 한다.

## 글로벌화의 해악

## Tip 47 전역 데이터를 피하라

-   전역 데이터는 코드의 결합도를 코드를 변경하기 어렵게 만든다.

## Tip 48 전역적이어야 할 만큼 중요하다면 API로 감싸라.

-   상속은 결합을 늘린다.

## 결국은 모두 ETC

-   직접적으로는 아는 것만 다루는 부끄럼쟁이 코드를 계속 유지하라. 그러면 애플리케이션의 결합도를 낮게 유지할 수 있을 것이고, 결과적으로 코드를 바꾸기 쉬워질 것이다.

## 이벤트 처리 방법

1. 유한 상태 기계 FSM
2. 감시자 패턴
3. 게시 - 구독
4. 반응형 프로그래밍과 스트림 ex) React, Vue.JS

-   이벤트가 어디서 발생하든 이벤트를 중심으로 공들여 만든 코드는 일직선으로 수행되는 코드보다 더 잘 반응하고 결합도가 더 낮다.

## Topic 30 변환 프로그래밍

-   프로그래밍이란 입력을 출력으로 바꾸는 것이라는 사고방식으로 돌아갈 필요가 있다.

## Tip 49 프로그래밍은 코드에 관한 것이지만, 프로그램은 데이터에 관한 것이다.

## Tip 50 상태를 쌓아 놓지 말고 전달하라

-   데이터를 거대한 강으로, 흐름으로 생각하라. 데이터는 기능과 동등해진다.
-   파이프라인은 코드 -> 데이터 -> 코드 -> 데이터의 연속이다.
-   === 함수형 프로그래밍 ?

## 오류 처리

-   변환 사이에 값을 절대 날것으로 넘기지 않는 것이다. 대신 래퍼 역할을 하는 자료 구조나 타입으로 값을 싸서 넘긴다.

## 변환은 프로그래밍을 변환한다

-   코드를 일련의 (중첩된) 변환으로 생각하는 접근 방식을 이용하면 코드가 더 명확해지고, 함수는 짧아지며, 설계는 단순해질 것이다.

## 상속 문제

-   상속도 일종의 결합으로 피할 수 있으면 피해야 한다.

## Topic 32 설정

-   에플리케이션이 출시된 이후 바뀔 수도 있는 값에 코드가 의존하고 있다면 그 값을 애플리케이션 외부에서 관리하라.
-   외부 설정을 사용하지 않는다면 코드는 적응성이나 유연성을 어느 정도 포기해야만 한다.

> # 느낀점

-   코드의 결합성을 줄여서 최대한 유연하게 만들자.
-   유연한 코드는 바꾸기 쉽고 대체하기 쉬워 오류 발생 여지를 줄인다.
-   변환 프로그래밍이나 함수형 프로그래밍과 같은 방식을 이용하여 설계를 단순화 시키자.
-   상속은 코드의 결합성을 높이므로 피할 수 있으면 피하자.
-   바뀔 수 있는 코드는 외부에서 API와 같은 형태로 관리하자.
