_2022.03.24_

# Ch4. 실용주의 편집증

## Tip36 **여러분은 완벽한 소프트웨어를 만들 수 없다**

-   실용주의 프로그래머는 자기 자신 역시 믿지 않는다. 그렇기 때문에 실수에 대비한 방어책을 항상 마련한다.

## Topic 계약에 의한 설계 DBC

-   DBC : Design By Contract 프로그램의 정확성을 보장하기 위해 소프트웨어 모듈의 권리와 책임을 문서화하고 합희하는 데에 초점을 맞춘다.
-   자신이 하는 일이라고 주장하는 것보다 많지도 적지도 않게 딱 그만큼만 할 수 있도록 조건을 규정해두는 것
-   이 DBC 계약에 부응하지 못하는 것은 버그라고 규정

## Tip36 계약으로 설계하라

-   게으름뱅이 코드 : 자신이 수용할 것과 내어 줄 것에 대해 엄격하고 최소한도로 약속하는 것
-   TDD (테스트 주도 개발)에도 DBC가 필요할지 생각해보기
-   코드를 작성하기 전에 유효한 입력 범위가 무엇인지, 경계 조건이 무엇인지 루틴이 뭘 전달하고 약속하는지, 혹은 더 중요하게는 무엇을 약속하지 않는지 등을 나열하는 것만으로도 더 나은 소프트웨어를 작성하는 데에 엄청난 도움이 된다.

## Topic 24 죽은 프로그램은 거짓말을 하지 않는다.

-   **그놈의 오류 메시지좀 읽어라 !**
-   데이터가 우리가 생각하는 대로인지, 서비스에서 작동하는 코드가 우리가 생각하는 그 코드인지 확인해야 한다. 필요한 라이브러리들이 올바른 버전으로 실제로 로드 됐는지도 확인해야 한다.
-   모든 오류는 정보를 준다.

## Tip38 일찍 작동을 멈춰라.

-   **방어적 프로그래밍은 시간 낭비다. 그냥 멈추는 게 낫다!**

## Tip39 단정문으로 불가능한 상황을 예방하라

-   결코 일어나면 안 되는 것들을 검사해라.

## Tip40 자신이 시작한 것은 자신이 끝내라

-   리소스 할당하는 루틴이 해제 역시 책임져야 한다는 것

## Tip41 지역적으로 행동해라

-   잘 모르겠을 때는 언제나 스코프를 줄이는 편이 낫다.
-   변수의 스코프는 최대한 좁게 만드는 것이 좋다 <DeepDiveJS #15장 let 키워드에 대하여 중...>

## 중첩 할당

-   리소스를 할당한 순서의 역순으로 해제하라.
-   코드의 여러 곳에서 동일한 리소스들을 할당하는 경우네는 언제나 같은 순서로 할당해야 교착 가능성을 줄인다.

**리소스를 할당하는 것이 언제나 그 리소스를 해제할 책임까지 져야한다.**

-   유한한 리소스를 소모하는 것을 만들 때는 언제나 어떻게 균형을 잡을지 고려하라.

-   예외 발생 이전에 할당된 모든 것이 깨끗이 청소되는가?

1. 변수 스코프를 사용한다. 예를 들어 C++나 Rust의 스택 변수가 있다.
2. try~catch 블록에서 finally 절을 사용한다.

## Topic 27 헤드라이트를 앞서가지 말라

-   언제나 신중하게 작은 단계들을 밟아라. 더 진행하기 전에 피드백을 확인하고 조정하라. 피드백의 빈도를 여러분의 제한 속도라고 생각하라. "너무 큰" 단계나 작업은 하지 않게 될 것이다.
-   아기 발걸음 원칙 : 올바른 방향으로 움직일 수 있는 일 중 최소한의 일은 무엇일지 생각하면서, 많은 작은 단계를 빠르게 밟아 나가라는 원칙, 단계를 잘게 쪼갤 때 생기는 부하(overhead)가 큰 변화를 시도했다가 실패해서 다시 원상태로 돌아갈 때 낭비보다 훨씬 작다고 보는 것이다.

-   불확실한 미래에 대비한 설계를 하느라 진을 빼는 대신 언제나 교체 가능한 코드를 작성하여 대비하라.
-   여러분의 코드를 더 적절한 무언가로 대체하기 쉽게 설계하라.
-   코드를 교체할 수 있도록 하면 응집도나 결합도, DRY에도 도움이 되고 전반적으로 더 나은 설계가 탄생할 것이다.

# 느낀점

-   코드를 작성하기 전에 개발 범위를 제대로 규정 짓고 시작해야 더 좋은 소프트웨어를 만들 수 있다.
-   완벽한 개발은 절대 있을 수 없다. 내 추측을 믿지 말고, 내가 쓴 코드도 믿지 말자. 실수는 언제 어디서든 발생한다. 항상 그 대비책을 마련해놓자.
-   아기 발걸음처럼 아주 작게 천천히 조심스럽게 단계를 밟아나가자. 너무 크게 보폭을 내딛지 말고 진행하기 전 항상 피드백을 확인하고 조정하자.
-   미래에 대해 예측은 대체로 빗나간다. 변경한 계획안에 신속하게 적응할 수 있도록 교체 가능하고 유연한 코드를 작성하자.
